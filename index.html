<html>
  <meta charset="utf-8">
  <meta content="text/html" charset="UTF-8" http-equiv="Content-Type">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
    <link href="/reset.css" rel="stylesheet">
    	<link href="/style.css?wat" rel="stylesheet">
  </head>
  <body>
    <main>
      <h1>talktalk</h1>
<p><span style="color: white;">talktalk</span> is a programming language. It kind of looks like Swift or Rust or Go if you squint. You probably shouldnâ€™t use it. But I'm having fun making it.</p>
<p>Hereâ€™s some goals:</p>
<ul>
<li>Learning stuff.
I didnâ€™t super understand all the ins and outs of compilers. I still donâ€™t but at least I have a way to learn now</li>
<li>Fully typed everything.
Types are cool.</li>
<li>As much type inference as possible.
I donâ€™t know if it's a good idea. I just think itâ€™s neat.</li>
<li>Familiar-ish syntax
Haskell/ML-y syntax is beautiful. I hate it.</li>
<li>Figure out cool syntax highlighting color schemes
I feel like making full programming language is the only way to do this, right? Right? Don't answer that.</li>
</ul>
<p>Hereâ€™s some non-goals:</p>
<ul>
<li>Blazingly fast performance.
I mean Iâ€™m probably not gonna litter the codebase with <code>sleep</code>s but Iâ€™m allowed to if I want.</li>
<li>Everything perfectly sound and decidable.
Is this even possible? I feel like my friends Kurt and Alan said wasnâ€™t.</li>
</ul>
<p>It has some types you may have heard of before.</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="number">123</span> <span class="comment">// Ints</span>
<span class="number">1.23</span> <span class="comment">// Floats</span>
<span class="number">true</span> <span class="comment">// Booleans</span>
<span class="string">"Hello ðŸ¦‰"</span> <span class="comment">// Strings</span>
[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="comment">// Arrays</span>
(<span class="number">true</span>, <span class="number">123</span>) <span class="comment">// Tuples?</span>
{ <span class="parameter">fizz</span>: <span class="string">"buzz"</span> } <span class="comment">// Records??</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='7' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>123 // Ints
1.23 // Floats
true // Booleans
&quot;Hello ðŸ¦‰&quot; // Strings
[1, 2, 3] // Arrays
(true, 123) // Tuples?
{ fizz: &quot;buzz&quot; } // Records??</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Here, have some arithmetic.</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="number">2</span> <span class="operator">*</span> <span class="number">3</span> <span class="operator">+</span> <span class="number">4</span> <span class="operator">/</span> <span class="number">2</span> <span class="comment">// I can't do this in my head</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='1' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>2 * 3 + 4 / 2 // I can&#39;t do this in my head</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Maybe you like assigning things. Like a variable?</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">let</span> a <span class="operator">=</span> <span class="number">1</span>
<span class="keyword">let</span> b <span class="operator">=</span> <span class="number">2</span>
<span class="keyword">let</span> c <span class="operator">=</span> <span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span>
<span class="variable">c</span> <span class="comment">// =&gt; 3</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='4' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>let a = 1
let b = 2
let c = a + b
c // =&gt; 3</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Hereâ€™s how functions look to define and call.</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">func</span> <span class="function">add</span>(<span class="parameter">x</span>) { <span class="variable">x</span> <span class="operator">+</span> <span class="number">1</span> }

<span class="variable">add</span>(<span class="number">1</span>) <span class="comment">// =&gt; 2 Wow. Imagine that</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='5' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>func add(x) {
	x + 1
}

add(1) // =&gt; 2 Wow. Imagine that</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Maybe you like types? You can specify them if you want.</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">let</span> a: <span class="type">Int</span> <span class="operator">=</span> <span class="number">1</span>
<span class="keyword">let</span> b: <span class="type">Float</span> <span class="operator">=</span> <span class="number">2.0</span>
<span class="keyword">let</span> c <span class="operator">=</span> <span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span> <span class="comment">// Uh oh, type error!</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='3' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>let a: Int = 1
let b: Float = 2.0
let c = a + b // Uh oh, type error!</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Theyâ€™ll be checked. But you can also not specify them and types will still be checked:</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">let</span> a <span class="operator">=</span> <span class="number">1</span>
<span class="keyword">let</span> b <span class="operator">=</span> <span class="number">2.0</span>
<span class="keyword">let</span> c <span class="operator">=</span> <span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='3' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>let a = 1
let b = 2.0
let c = a + b</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>We've got polymorphic functions.</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">func</span> <span class="function">identity</span>(<span class="parameter">x</span>) { <span class="variable">x</span> }
<span class="variable">identity</span>(<span class="number">1.23</span>) <span class="comment">// =&gt; 1.23 (Float)</span>
<span class="variable">identity</span>(<span class="number">true</span>) <span class="comment">// =&gt; true (Bool)</span></pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='3' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>func identity(x) { x }
identity(1.23) // =&gt; 1.23 (Float)
identity(true) // =&gt; true (Bool)</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>You could write the function above explicitly too.</p>
<div class='code-block no-run'>
            <pre class='code-highlight'><span class="comment">// it's good to be explicit sometimes</span>
<span class="keyword">func</span> <span class="function">identity</span><span class="operator">&lt;</span>T<span class="operator">&gt;</span>(<span class="parameter">x</span>: <span class="type">T</span>) { <span class="variable">x</span> }</pre>
        </div>
        
<p>Maybe you like product types.</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">struct</span> <span class="type">Person</span> {
	<span class="keyword">let</span> firstName: <span class="type">String</span>
	<span class="keyword">let</span> lastName: <span class="type">String</span>

	<span class="keyword">func</span> <span class="function">greet</span>() {
		<span class="comment">// Strings can be concat'd</span>
		<span class="variable">print</span>(<span class="string">"hi i'm "</span> <span class="operator">+</span> <span class="type">self</span>.firstName <span class="operator">+</span> <span class="string">" "</span> <span class="operator">+</span> <span class="type">self</span>.lastName)
	}
}

<span class="type">Person</span>(<span class="parameter">firstName</span>: <span class="string">"Pat"</span>, <span class="parameter">lastName</span>: <span class="string">"N"</span>).greet()</pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='12' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>
struct Person {
	let firstName: String
	let lastName: String

	func greet() {
		// Strings can be concat&#39;d
		print(&quot;hi i&#39;m &quot; + self.firstName + &quot; &quot; + self.lastName)
	}
}

Person(firstName: &quot;Pat&quot;, lastName: &quot;N&quot;).greet()</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>We've got sum types too:</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="keyword">enum</span> <span class="type">Response</span> {
	<span class="keyword">case</span> <span class="enum_member">ok</span>(<span class="type">String</span>)
	<span class="keyword">case</span> <span class="enum_member">redirect</span>(<span class="type">String</span>)
	<span class="keyword">case</span> <span class="enum_member">other</span>(<span class="type">Int</span>)
}

<span class="keyword">enum</span> <span class="type">Response</span> {
	<span class="keyword">case</span> <span class="enum_member">ok</span>(<span class="type">String</span>)
	<span class="keyword">case</span> <span class="enum_member">redirect</span>(<span class="type">String</span>)
	<span class="keyword">case</span> <span class="enum_member">other</span>(<span class="type">Int</span>)
}

<span class="keyword">match</span> <span class="type">Response</span>.ok(<span class="string">"success!"</span>) {
	.<span class="enum_member">ok</span>(string) <span class="keyword">-&gt;</span> <span class="variable">string</span>,
	.<span class="enum_member">redirect</span>(message) <span class="keyword">-&gt;</span> <span class="variable">message</span>,
	.<span class="enum_member">other</span>(code) <span class="keyword">-&gt;</span> <span class="string">"uh oh"</span>
}</pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='13' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>enum Response {
    case ok(String), redirect(String), other(Int)
}

enum Response {
    case ok(String), redirect(String), other(Int)
}

match Response.ok(&quot;success!&quot;) {
    .ok(string) -&gt; string,
    .redirect(message) -&gt; message,
    .other(code) -&gt; &quot;uh oh&quot;
}</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Ok what about protocols?</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="comment">// Ok so we've got some different pet foods here</span>
<span class="keyword">struct</span> <span class="type">CatFood</span> {}
<span class="keyword">struct</span> <span class="type">DogFood</span> {}

<span class="comment">// And we've got a protocol `Named` that just knows how</span>
<span class="comment">// to get names of things.</span>
<span class="keyword">protocol</span> <span class="interface">Named</span> {
	<span class="keyword">func</span> name() <span class="keyword">-&gt;</span> <span class="type">String</span>
}

<span class="comment">// Let's make the pet foods conform to Named</span>
<span class="keyword">extend</span> <span class="type">CatFood</span>: <span class="type">Named</span> {
	<span class="keyword">func</span> <span class="function">name</span>() { <span class="string">"tasty cat food"</span> }
}

<span class="keyword">extend</span> <span class="type">DogFood</span>: <span class="type">Named</span> {
	<span class="keyword">func</span> <span class="function">name</span>() { <span class="string">"tasty dog food"</span> }
}

<span class="comment">// So far so good, right? Ok now let's add a Pet protocol.</span>
<span class="keyword">protocol</span> <span class="interface">Pet</span> {
	<span class="comment">// Protocols can have associated types with their own constraints.</span>
	<span class="keyword">associated</span> <span class="type_parameter">Food</span>: <span class="type">Named</span>

	<span class="comment">// This protocol has one required method. It just returns</span>
	<span class="comment">// the associated type Food for this pet.</span>
	<span class="keyword">func</span> favoriteFood() <span class="keyword">-&gt;</span> <span class="type">Food</span>

	<span class="comment">// Protocols can specify default methods.</span>
	<span class="keyword">func</span> <span class="function">handleDSTChange</span>() {
		<span class="variable">print</span>(<span class="string">"what the heck where is my "</span> <span class="operator">+</span> <span class="type">self</span>.favoriteFood().name())
	}
}

<span class="comment">// Ok so now we've got a Cat, which conforms to Pet</span>
<span class="keyword">struct</span> <span class="type">Cat</span> {}

<span class="comment">// We use `extend` blocks to mark conformances.</span>
<span class="keyword">extend</span> <span class="type">Cat</span>: <span class="type">Pet</span> {
	<span class="keyword">func</span> <span class="function">favoriteFood</span>() { <span class="type">CatFood</span>() }
}

<span class="comment">// And a Dog which conforms to Pet</span>
<span class="keyword">struct</span> <span class="type">Dog</span> {}
<span class="keyword">extend</span> <span class="type">Dog</span>: <span class="type">Pet</span> {
	<span class="keyword">func</span> <span class="function">favoriteFood</span>() { <span class="type">DogFood</span>() }
}

<span class="comment">// We can call the protocol's methods</span>
<span class="type">Cat</span>().handleDSTChange()
<span class="type">Dog</span>().handleDSTChange()</pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='55' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>// Ok so we&#39;ve got some different pet foods here
struct CatFood {}
struct DogFood {}

// And we&#39;ve got a protocol `Named` that just knows how
// to get names of things.
protocol Named {
    func name() -&gt; String
}

// Let&#39;s make the pet foods conform to Named
extend CatFood: Named {
    func name() { &quot;tasty cat food&quot; }
}

extend DogFood: Named {
    func name() { &quot;tasty dog food&quot; }
}

// So far so good, right? Ok now let&#39;s add a Pet protocol.
protocol Pet {
    // Protocols can have associated types with their own constraints.
    associated Food: Named

	// This protocol has one required method. It just returns
	// the associated type Food for this pet.
    func favoriteFood() -&gt; Food

    // Protocols can specify default methods.
    func handleDSTChange() {
        print(&quot;what the heck where is my &quot; + self.favoriteFood().name())
    }
}

// Ok so now we&#39;ve got a Cat, which conforms to Pet
struct Cat {}

// We use `extend` blocks to mark conformances.
extend Cat: Pet {
    func favoriteFood() {
        CatFood()
    }
}

// And a Dog which conforms to Pet
struct Dog {}
extend Dog: Pet {
    func favoriteFood() {
        DogFood()
    }
}

// We can call the protocol&#39;s methods 
Cat().handleDSTChange()
Dog().handleDSTChange()</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>
<p>Check it out, we can parse effects (the rest is one big todo)</p>
<div class='runnable'>
            <div class='code-block'>
                <pre class='code-highlight' aria-hidden='true'><span class="comment">// Define an effect. Effect names have the prefix `'`</span>
<span class="keyword">effect</span> <span class="effect">'fizz</span>(<span class="parameter">x</span>: <span class="type">Int</span>) <span class="keyword">-&gt;</span> <span class="type">Int</span>

<span class="comment">// Handles 'fizz for as long as handler is in scope</span>
<span class="keyword">let</span> handler <span class="operator">=</span> <span class="decorator">@handle</span> <span class="effect">'fizz</span> { x <span class="keyword">in</span>
	<span class="comment">// This effect doesn't do much, it just returns what it was passed</span>
	<span class="keyword">continue</span> <span class="variable">x</span>
}

<span class="comment">// Define a function with effects. The effect list is in `'[]`. Effects</span>
<span class="comment">// can also be defined as `'_` and they'll be inferred.</span>
<span class="keyword">func</span> <span class="function">fizzes</span>(<span class="parameter">x</span>) <span class="effect">'fizz</span> { <span class="effect">'fizz</span>(<span class="variable">x</span>) }</pre>
                <div class='code-diagnostics' aria-hidden='true'></div>
                <textarea class='code-editable' rows='14' spellcheck='false' autocapitalize='off' autocorrect='off' autocomplete='off' wrap='off'>// Define an effect. Effect names have the prefix `&#39;`
effect &#39;fizz(x: Int) -&gt; Int

// Handles &#39;fizz for as long as handler is in scope
let handler = @handle &#39;fizz { x in
	// This effect doesn&#39;t do much, it just returns what it was passed
	continue x
}

// Define a function with effects. The effect list is in `&#39;[]`. Effects
// can also be defined as `&#39;_` and they&#39;ll be inferred.
func fizzes(x) &#39;[fizz] {
	&#39;fizz(x)
}</textarea>
            </div>
            <div class='actions'>
                <button type='button' class='run'>Run</button>
                <button type='button' class='lower'>Lower</button>
                <button type='button' class='format'>Format</button>
            </div>
            <div class='result'></div>
        </div>

      <script type="module" src="/page.js"></script>
    </main>
  </body>
</html>

